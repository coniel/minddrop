/* ============================================================
   TABLE ROW
   A single data row in the table.
   ============================================================ */

.table-row {
  display: flex;
  height: var(--table-row-height, 1.75rem);
}

.table-row-number {
  flex: 0 0 2.5rem;
  padding: var(--space-2);
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-ui);
  font-size: var(--text-xs);
  color: var(--text-disabled);
  user-select: none;
  white-space: nowrap;
}

/* Checkbox hidden by default; number visible */
.table-row-checkbox {
  display: none;
  margin-top: 0;
}

/* On hover or when selected: swap number for checkbox */
.table-row:hover .table-row-number-text,
.table-row[data-selected] .table-row-number-text {
  display: none;
}

.table-row:hover .table-row-checkbox,
.table-row[data-selected] .table-row-checkbox {
  display: flex;
}

/* ---- Body cells ---- */

.table-cell {
  padding: 0;
  height: var(--table-row-height, 1.75rem);
  overflow: hidden;
  min-width: 0;
}

/* ---- Persistent cell inputs (text / title / number) ---- */

.table-cell-input {
  display: block;
  width: 100%;
  border: none;
  background: transparent;
  outline: none;
  font-family: var(--font-ui);
  color: var(--text-regular);
  padding: 0;
  margin: 0;
  cursor: text;

  /* Extend to cover the td's horizontal padding so caret aligns with display text */
  padding-inline: var(--space-3);
  margin-inline: calc(-1 * var(--space-3));
  height: var(--table-row-height, 1.75rem);
}

.table-cell-input--sm { font-size: var(--text-sm); }
.table-cell-input--md { font-size: var(--text-base); }
.table-cell-input--lg { font-size: var(--text-base); }

/* ---- Title cell (input + open button) ---- */

.table-cell-title {
  display: flex;
  align-items: center;
  width: 100%;
  min-width: 0;
  position: relative;
}

.table-cell-title .table-cell-input {
  flex: 1;
  min-width: 0;
}

.text-cell-open-button {
  position: absolute;
  right: 0;
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--duration-fast);
}

.table-row:hover .text-cell-open-button {
  opacity: 1;
  pointer-events: auto;
}
